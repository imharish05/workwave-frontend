import{u as o,b as c,h as l,r as n,e as u,f as i,j as p,P as g}from"./index-B6CIFsuu.js";const d=()=>{const s=o(),e=c(),[r]=l();return n.useEffect(()=>{const t=r.get("token");if(!t){e("/login",{replace:!0});return}try{const a=u(t);localStorage.setItem("token",t),s(i({token:t,user:a})),a.role?e(`/${a.role}`,{replace:!0}):e("/set-role",{replace:!0})}catch{localStorage.removeItem("token"),e("/login",{replace:!0})}},[]),p.jsx(g,{})};export{d as default};
