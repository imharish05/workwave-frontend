import{u as r,b as c,h as l,r as n,e as u,f as g,j as i,P as p}from"./index-_K1Fs7Rw.js";const d=()=>{const s=r(),t=c(),[a]=l();return n.useEffect(()=>{const o=a.get("token");if(!o){t("/login",{replace:!0});return}try{const e=u(o);console.log(e),localStorage.setItem("token",o),s(g({token:o,user:e})),console.log(e),e.role?t(`/${e.role}`,{replace:!0}):t("/set-role",{replace:!0})}catch{localStorage.removeItem("token"),t("/login",{replace:!0})}},[]),i.jsx(p,{})};export{d as default};
